<!DOCTYPE html>
<html>

<head>

    <!-- Charset -->
    <meta charset="utf-8">

    <!-- Meta Information -->
    <title>DONE.it</title>

    <meta name="author" content="Mjolnir LLC" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <!-- !Meta Information -->

    <!-- Fonts -->
    <link href='https://fonts.googleapis.com/css?family=Roboto:400,700,500&subset=latin,cyrillic' rel='stylesheet' type='text/css'>
    <!-- !Fonts -->

    <!-- Stylesheets -->
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/js/jqueryui/jquery-ui.min.css">
    <link rel="stylesheet" href="/js/timepicker/jquery.timepicker.css">
    <!-- !Stylesheets -->

    <script type='text/javascript' src="/js/jquery.min.js"></script>
    <script type='text/javascript' src='/js/knockout-3.4.0.js'></script>

    <script type='text/javascript' src='/js/task.js'></script>

    <script type='text/javascript' src='/js/timepicker/jquery.timepicker.min.js'></script>

    <script src="/js/jqueryui/jquery-ui.min.js"></script>


    <!-- Magnific Popup core CSS file -->
    <link rel="stylesheet" href="/js/popup/magnific-popup.css">

    <!-- Magnific Popup core JS file -->
    <script src="/js/popup/jquery.magnific-popup.min.js"></script>


</head>

<body>

<!--<button data-bind="click: sortTasksByCreation">Сортировать</button>-->

<div class="done-border">

    <header class="done-header">
        Done.te — small team task management
    </header>

    <!-- ko if: loggedIn -->

    <div class="done-greetings">
        Привет, <span data-bind="text: currentUser"></span>
        <a href="http://done.mjolnir.com.ua/api/users/logout" class="done-link">Выйти</a>
    </div>

    <!-- /ko -->

    <div class="done-wrapper">

        <!-- ko ifnot: loggedIn -->

        <form class="done-login" data-bind="submit: login">
            <span>Залогиньтесь, юзернейм</span>
            <input data-bind="value: loginForm.login" type="text" name="login">
            <input data-bind="value: loginForm.password" type="password" name="password">
            <button class="done-button">Войти</button>
        </form>


        <!-- /ko -->

        <!-- ko if: loggedIn -->

        <h2 class="done-header__inside">
            Projects
        </h2>

        <form data-bind="submit: createNewTag" class="done-task done-task_form">

            <div class="done-task__line">

                <div class="done-task__field">
                    <span class="done-task__field__annotation">
                        <a data-bind="">
                            Название
                        </a>
                    </span>

                    <input data-bind="value: newTag().name" type="text" name="name">
                </div>

                <div class="done-task__field">

                    <span class="done-task__field__annotation">
                        <a data-bind="">
                            Описание
                        </a>
                    </span>

                    <textarea data-bind="value: newTag().description" type="text" name="description">
                    </textarea>
                </div>

                <div class="done-task__field done-task__field_right">
                    <button class="done-button">Создать проект</button>
                </div>

            </div>

        </form>

        <!-- ko foreach: tags -->

        <section class="done-block">

            <article class="done-task">

                <div class="done-task__delete" data-bind="click: function(){ $root.deleteTag(this) }"></div>

                <div class="done-task__line">

                    <div class="done-task__field">
                        <span class="done-task__field__annotation">
                            <a data-bind="attr: {href: '#js-popup__name_' + id()}, popup">
                                Название
                            </a>
                        </span>
                        <div data-bind="attr: {id: 'js-popup__name_' + id()}" class="js-popup js-popup__fast mfp-hide done-popup done-deadline__popup">
                            <span class="done-deadline__popup__title">Название</span>

                            <form data-bind="submit: function(){ updateTag('name') }">
                                <input data-bind="value: update().name" class="done-input" type="text" name="name"></textarea>
                                <button class="done-button">Ок</button>
                            </form>
                        </div>

                       <p data-bind="text: name" href="#"></p>
                    </div>

                    <div class="done-task__field">

                        <span class="done-task__field__annotation">
                            <a data-bind="attr: {href: '#js-popup__description_' + id()}, popup">
                                Описание
                            </a>
                        </span>
                        <div data-bind="attr: {id: 'js-popup__description_' + id()}" class="js-popup js-popup__fast mfp-hide done-popup done-deadline__popup">
                            <span class="done-deadline__popup__title">Описание</span>

                            <form data-bind="submit: function(){ updateTag('description') }">
                                <input data-bind="value: update().description" class="done-input" type="text" name="description"></textarea>
                                <button class="done-button">Ок</button>
                            </form>
                        </div>

                        <p data-bind="text: description" href="#"></p>
                    </div>

                </div>

            </article>

        </section>

        <!-- /ko -->

        <!-- /ko -->


    </div>

    <footer>

    </footer>

</div>

</body>

</html>